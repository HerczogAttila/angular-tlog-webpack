<p class="title">{{ 'Task list' | translate }}</p>
<div *ngIf="date">
  <div>
    <p>{{ 'Selected day' | translate }}: {{ date.date | date : 'yyyy. MM. dd.' }}</p>
    <div>
      <label for="requiredWorkMinutes">{{ 'Required working minutes' | translate }}:</label>
      <input id="requiredWorkMinutes" value="{{date.requiredWorkMinutes}}" #reqWorkMinutes />
      <button (click)="modifyDay(reqWorkMinutes.value)">{{ 'Modify' | translate }}</button>
    </div>
  </div>
  <my-daily-statistic [date]="date" [tasks]="tasks"></my-daily-statistic>
  <div>
    <label for="taskId">{{ 'Task id' | translate }}:</label>
    <input id="taskId" [(ngModel)]="taskId">
    <button (click)="startTask();">{{ 'Add' | translate }}</button>
    <my-error-modal message="The task can not be created" [isError]="startTaskError" (closeError)="onStartTaskErrorClose()"></my-error-modal>
  </div>
  <p>{{ 'Tasks' | translate }}:</p>
  <div *ngFor="let t of tasks">
    <div class="inline" (click)="onSelectTask(t)">
      <p class="inline">{{t.taskId}}, {{t.comment}},</p>
      <p class="inline" *ngIf="t.startingTime">{{t.startingTime}}</p>-
      <p class="inline" *ngIf="t.endingTime">{{t.endingTime}}</p>
    </div>
    <button (click)="deleteTask(t)">x</button>
    <p class="inline" *ngIf="!t.endingTime"><button (click)="finishingTask(t)">{{ 'Finishing' | translate }}</button></p>
  </div>
  <my-modify-task *ngIf="selectedTask" [(selectedTask)]="selectedTask" [newTaskId]="selectedTask.taskId"
                  [newComment]="selectedTask.comment" [newStartTime]="selectedTask.startingTime"
                  [newEndTime]="selectedTask.endingTime" (modify)="onModifyTask($event)"></my-modify-task>
</div>
